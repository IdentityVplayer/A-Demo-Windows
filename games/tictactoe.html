<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>井字棋 Tic Tac Toe</title>
    <style>
        body { background: #f5f5f5; margin: 0; }
        .board { display: grid; grid-template-columns: repeat(3, 100px); grid-gap: 8px; margin: 60px auto 0 auto; width: 320px; }
        .cell { width: 100px; height: 100px; background: #fff; border-radius: 8px; font-size: 2.5em; color: #1976d2; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .cell.winner { background: #ffeb3b; }
        .status { text-align: center; font-size: 1.3em; margin-top: 24px; color: #333; }
    </style>
</head>
<body>
    <div class="board" id="board"></div>
    <div class="status" id="status">轮到 X</div>
    <script>
    const board = document.getElementById('board');
    const statusDiv = document.getElementById('status');
    let cells = Array(9).fill(null);
    let xIsNext = true;
    let winner = null;
    function render() {
        board.innerHTML = '';
        cells.forEach((cell, i) => {
            const div = document.createElement('div');
            div.className = 'cell' + (winner && winner.line.includes(i) ? ' winner' : '');
            div.textContent = cell || '';
            div.onclick = () => move(i);
            board.appendChild(div);
        });
        if (winner) {
            statusDiv.textContent = winner.player + ' 获胜！';
        } else if (cells.every(c => c)) {
            statusDiv.textContent = '平局！';
        } else {
            statusDiv.textContent = '轮到 ' + (xIsNext ? 'X' : 'O');
        }
    }
    function move(i) {
        if (cells[i] || winner) return;
        cells[i] = xIsNext ? 'X' : 'O';
        xIsNext = !xIsNext;
        winner = calculateWinner();
        render();
    }
    function calculateWinner() {
        const lines = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];
        for (let line of lines) {
            const [a,b,c] = line;
            if (cells[a] && cells[a] === cells[b] && cells[a] === cells[c]) {
                return { player: cells[a], line };
            }
        }
        return null;
    }
    render();
    </script>
</body>
</html>

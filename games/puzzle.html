<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>拼图 Puzzle</title>
    <style>
        body { background: #f5f5f5; margin: 0; }
        .board { display: grid; grid-template-columns: repeat(4, 60px); grid-gap: 4px; margin: 40px auto; width: 256px; }
        .cell { width: 60px; height: 60px; background: #fff; border-radius: 8px; font-size: 2em; color: #1976d2; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .cell.empty { background: #eee; cursor: default; }
        .status { text-align: center; font-size: 1.2em; margin-top: 10px; color: #333; }
    </style>
</head>
<body>
    <div class="status" id="status">点击格子移动</div>
    <div class="board" id="board"></div>
    <script>
    const boardDiv = document.getElementById('board');
    const statusDiv = document.getElementById('status');
    let cells = Array.from({length:15},(_,i)=>i+1).concat(0);
    function shuffle() {
        for(let i=cells.length-1;i>0;i--) {
            let j=Math.floor(Math.random()*(i+1));
            [cells[i],cells[j]]=[cells[j],cells[i]];
        }
    }
    function render() {
        boardDiv.innerHTML='';
        for(let i=0;i<16;i++) {
            let div=document.createElement('div');
            div.className='cell'+(cells[i]===0?' empty':'');
            div.textContent=cells[i]||'';
            div.onclick=()=>move(i);
            boardDiv.appendChild(div);
        }
    }
    function move(i) {
        if (cells[i]===0) return;
        let empty = cells.indexOf(0);
        let canMove = [i-1,i+1,i-4,i+4].includes(empty)&&!(i%4===0&&empty===i-1)&&!(i%4===3&&empty===i+1);
        if (canMove) {
            [cells[i],cells[empty]]=[cells[empty],cells[i]];
            render();
            if (cells.slice(0,15).every((v,i)=>v===i+1)) statusDiv.textContent='拼图完成！';
        }
    }
    shuffle();render();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>五子棋 Gomoku</title>
    <style>
        body { background: #f5f5f5; margin: 0; }
        .board { display: grid; grid-template-columns: repeat(15, 24px); grid-gap: 2px; margin: 40px auto; width: 390px; }
        .cell { width: 24px; height: 24px; background: #fff; border-radius: 50%; border: 1px solid #bbb; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .cell.b { background: #333; }
        .cell.w { background: #eee; }
        .status { text-align: center; font-size: 1.2em; margin-top: 10px; color: #333; }
    </style>
</head>
<body>
    <div class="status" id="status">黑棋先手</div>
    <div class="board" id="board"></div>
    <script>
    const boardDiv = document.getElementById('board');
    const statusDiv = document.getElementById('status');
    let board = Array(225).fill(null), black = true, over = false;
    function render() {
        boardDiv.innerHTML='';
        for(let i=0;i<225;i++) {
            let div=document.createElement('div');
            div.className='cell'+(board[i]===true?' b':board[i]===false?' w':'');
            div.onclick=()=>move(i);
            boardDiv.appendChild(div);
        }
    }
    function move(i) {
        if(board[i]!==null||over)return;
        board[i]=black; black=!black; render();
        let win=checkWin(i); if(win){over=true;statusDiv.textContent=(board[i]?'黑':'白')+'棋胜利！';}
        else statusDiv.textContent=(black?'黑':'白')+'棋走';
    }
    function checkWin(i) {
        let dirs=[[1,0],[0,1],[1,1],[1,-1]];
        let c=board[i],x=i%15,y=Math.floor(i/15);
        for(let[d1,d2]of dirs){let cnt=1;for(let d=1;d<5;d++){let nx=x+d*d1,ny=y+d*d2,ni=ny*15+nx;if(nx<0||nx>=15||ny<0||ny>=15||board[ni]!==c)break;cnt++;}for(let d=1;d<5;d++){let nx=x-d*d1,ny=y-d*d2,ni=ny*15+nx;if(nx<0||nx>=15||ny<0||ny>=15||board[ni]!==c)break;cnt++;}if(cnt>=5)return true;}
        return false;
    }
    render();
    </script>
</body>
</html>
